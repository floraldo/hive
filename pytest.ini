[pytest]
# Hive Platform - Tiered Testing Configuration
# Core packages (strict) vs Crust apps (lenient)

# Test discovery
testpaths = packages apps integration_tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Import mode to handle duplicate test file names across packages
consider_namespace_packages = true

# Custom markers for tiered testing
markers =
    core: Core infrastructure tests (packages/) - strict quality standards
    crust: Business logic tests (apps/, integration_tests/) - lenient standards
    integration: Integration tests requiring external services
    slow: Slow tests (> 1 second)
    smoke: Quick smoke tests for CI/CD

# Output configuration
addopts =
    --strict-markers
    --tb=short
    --disable-warnings
    -ra
    --color=yes

# Coverage (optional - can be enabled with --cov)
# addopts = --cov=packages --cov=apps --cov-report=html --cov-report=term

# Timeout for hanging tests (optional)
# timeout = 300
