# Simple pre-commit configuration for Hive platform
# Focused on preventing syntax errors that plague AI agents

repos:
  # Ruff - Fast Python linter and formatter
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.13.2
    hooks:
      - id: ruff
        args: [--fix, --exit-non-zero-on-fix]
      - id: ruff-format

  # Black - Code formatter (backup to ruff)
  - repo: https://github.com/psf/black
    rev: 24.8.0
    hooks:
      - id: black
        language_version: python3.11

  # Basic Python syntax check
  - repo: local
    hooks:
      - id: python-syntax-check
        name: Check Python syntax
        entry: python -m py_compile
        language: system
        types: [python]
        pass_filenames: true

      # Golden Rules architectural validation
      - id: golden-rules-check
        name: Validate Golden Rules compliance
        entry: python scripts/validate_golden_rules.py --incremental
        language: system
        types: [python]
        pass_filenames: false
        verbose: true
        # Warning only - won't block commits initially
        # Remove 'stages: [manual]' to enable automatic validation
        stages: [manual]
